sourceSets {
    List<String> srcResources =  ['src/main/java']

    seedDataSources {
        java {
            srcDir 'src/test/spike'
            srcDirs += srcResources
        }
        resources {
            srcDir 'src/test/manual_test_data/resources'
        }
        compileClasspath += sourceSets.main.compileClasspath
        compileClasspath += sourceSets.test.compileClasspath
        runtimeClasspath += sourceSets.main.runtimeClasspath
        runtimeClasspath += sourceSets.test.runtimeClasspath
    }
}

task loadSeedData(type: Test){
    println("loading seed data")
    testClassesDir = sourceSets.seedDataSources.output.classesDir
    classpath = sourceSets.seedDataSources.runtimeClasspath
}
